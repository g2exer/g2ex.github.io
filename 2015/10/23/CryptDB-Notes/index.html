<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css">


  <meta name="keywords" content="CryptDB,MySQL,Ubuntu,">





  <link rel="alternate" href="/atom.xml" title="G2EX" type="application/atom+xml">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0">






<meta name="description" content="一、CryptDB介绍CryptDB是来自MIT的一个开源项目，它不是某种数据库，而是加密数据库查询技术的一种，可以在加密的数据库（目前支持MySQL）上进行简单的操作。正常说来，一个应用是直接连接数据库的，配置了CryptDB后，CryptDB作为应用和数据库的中间代理，以明文的方式与应用交互，以密文的方式与数据库交互。其原理示意图如下：  CryptDB首次解决了实用性的问题，它将数据嵌套进多">
<meta name="keywords" content="CryptDB,MySQL,Ubuntu">
<meta property="og:type" content="article">
<meta property="og:title" content="CryptDB的安装与使用">
<meta property="og:url" content="https://g2ex.top/2015/10/23/CryptDB-Notes/index.html">
<meta property="og:site_name" content="G2EX">
<meta property="og:description" content="一、CryptDB介绍CryptDB是来自MIT的一个开源项目，它不是某种数据库，而是加密数据库查询技术的一种，可以在加密的数据库（目前支持MySQL）上进行简单的操作。正常说来，一个应用是直接连接数据库的，配置了CryptDB后，CryptDB作为应用和数据库的中间代理，以明文的方式与应用交互，以密文的方式与数据库交互。其原理示意图如下：  CryptDB首次解决了实用性的问题，它将数据嵌套进多">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/gymgle/imgur/2015-10-22_162200_cryptdbdiag.webp">
<meta property="og:updated_time" content="2020-11-25T02:09:19.688Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="CryptDB的安装与使用">
<meta name="twitter:description" content="一、CryptDB介绍CryptDB是来自MIT的一个开源项目，它不是某种数据库，而是加密数据库查询技术的一种，可以在加密的数据库（目前支持MySQL）上进行简单的操作。正常说来，一个应用是直接连接数据库的，配置了CryptDB后，CryptDB作为应用和数据库的中间代理，以明文的方式与应用交互，以密文的方式与数据库交互。其原理示意图如下：  CryptDB首次解决了实用性的问题，它将数据嵌套进多">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/gymgle/imgur/2015-10-22_162200_cryptdbdiag.webp">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://g2ex.top/2015/10/23/CryptDB-Notes/">





  <title> CryptDB的安装与使用 | G2EX </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?0056c67deccbe6617d059b40d352195f";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">G2EX</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://g2ex.top/2015/10/23/CryptDB-Notes/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Yaming Gong">
    <meta itemprop="description" content>
    <meta itemprop="image" content="/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="G2EX">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="G2EX" src>
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                CryptDB的安装与使用
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-10-23T22:00:00+00:00">
                2015-10-23
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2015/10/23/CryptDB-Notes/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/10/23/CryptDB-Notes/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="一、CryptDB介绍"><a href="#一、CryptDB介绍" class="headerlink" title="一、CryptDB介绍"></a>一、CryptDB介绍</h2><p>CryptDB是来自MIT的一个开源项目，它不是某种数据库，而是加密数据库查询技术的一种，可以在加密的数据库（目前支持MySQL）上进行简单的操作。正常说来，一个应用是直接连接数据库的，配置了CryptDB后，CryptDB作为应用和数据库的中间代理，以明文的方式与应用交互，以密文的方式与数据库交互。其原理示意图如下：</p>
<p><img src="https://cdn.jsdelivr.net/gh/gymgle/imgur/2015-10-22_162200_cryptdbdiag.webp" alt="CryptDB原理图" title="CryptDB原理图"></p>
<p>CryptDB首次解决了实用性的问题，它将数据嵌套进多个加密层，每层使用不同的密钥，这些加密密钥与用户的密码有关，即便是数据库管理员也不能访问这些加密的数据，这也防止了因数据库泄露导致用户信息泄露的问题。虽然目前支持的SQL语句有限，还没有到真正投入使用的程度，但其性却非常出众。Google也根据CryptDB的设计开发了<a href="https://github.com/google/encrypted-bigquery-client" title="Google Encrypted BigQuery" target="_blank" rel="noopener">Encrypted BigQuery client</a>。</p>
<p>CryptDB官网的介绍如下：</p>
<blockquote>
<p>Online applications are vulnerable to theft of sensitive information because adversaries can exploit software bugs to gain access to private data, and because curious or malicious administrators may capture and leak data. CryptDB is a system that provides practical and provable confidentiality in the face of these attacks for applications backed by SQL databases. It works by executing SQL queries over encrypted data using a collection of efficient SQL-aware encryption schemes. CryptDB can also chain encryption keys to user passwords, so that a data item can be decrypted only by using the password of one of the users with access to that data. As a result, a database administrator never gets access to decrypted data, and even if all servers are compromised, an adversary cannot decrypt the data of any user who is not logged in. An analysis of a trace of 126 million SQL queries from a production MySQL server shows that CryptDB can support operations over encrypted data for 99.5% of the 128,840 columns seen in the trace. Our evaluation shows that CryptDB has low overhead, reducing throughput by 14.5% for phpBB, a web forum application, and by 26% for queries from TPC-C, compared to unmodified MySQL. Chaining encryption keys to user passwords requires 11-13 unique schema annotations to secure more than 20 sensitive fields and 2-7 lines of source code changes for three multi-user web applications.</p>
</blockquote>
<h2 id="二、安装CryptDB"><a href="#二、安装CryptDB" class="headerlink" title="二、安装CryptDB"></a>二、安装CryptDB</h2><p>安装系统：Ubuntu 12.04/13.04/14.04 x64</p>
<p>注：<code>gcc</code>和<code>MySQL</code>可以事先安装，也可以在安装CryptDB时自动安装。如果不更改CryptDB的默认密码<code>letmein</code>，那么配置<code>MySQL</code>时<code>root</code>用户密码也要设置为<code>letmein</code>。</p>
<h3 id="1-安装Git和ruby"><a href="#1-安装Git和ruby" class="headerlink" title="1) 安装Git和ruby"></a>1) 安装Git和ruby</h3><p>安装<code>git</code>是为了获取官网的源码，又因为CryptDB的安装脚本使用ruby语言编写，因此也需要安装<code>ruby</code>。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get install git ruby</span><br></pre></td></tr></table></figure>

<h3 id="2-克隆CrpytDB代码"><a href="#2-克隆CrpytDB代码" class="headerlink" title="2) 克隆CrpytDB代码"></a>2) 克隆CrpytDB代码</h3><p>这里把CryptDB项目克隆到了用户主目录下，后续步骤中也安装到了这个目录。根据个人喜好，可以自定义安装目录。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> -b public git://g.csail.mit.edu/cryptdb</span><br></pre></td></tr></table></figure>

<h3 id="3-安装CrpytDB"><a href="#3-安装CrpytDB" class="headerlink" title="3) 安装CrpytDB"></a>3) 安装CrpytDB</h3><p>安装非常简单，执行安装脚本，按照提示，等待完成。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> cryptdb</span><br><span class="line">$ sudo ./scripts/install.rb .</span><br></pre></td></tr></table></figure>

<p>如果安装过程中出现问题，请翻阅下文中的<code>可能出现的问题</code>一节。</p>
<h3 id="4-添加环境变量EDBDIR到-bashrc"><a href="#4-添加环境变量EDBDIR到-bashrc" class="headerlink" title="4) 添加环境变量EDBDIR到.bashrc"></a>4) 添加环境变量<code>EDBDIR</code>到<code>.bashrc</code></h3><p>编辑用户主目录<code>/home/yourname/</code>下的<code>.bashrc</code>，把下面的代码添加到最后，注意把<code>/full/path/to/cryptdb/</code>替换为<code>CryptDB</code>的安装目录。后续步骤中出现的<code>/path/to/cryptdb/</code>也请注意替换。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> EDBDIR=/full/path/to/cryptdb/</span><br></pre></td></tr></table></figure>

<h2 id="三、CryptDB的使用"><a href="#三、CryptDB的使用" class="headerlink" title="三、CryptDB的使用"></a>三、CryptDB的使用</h2><p>源码<code>doc/README</code>文档中介绍了CryptDB的三种使用方法，这里只介绍<code>Proxy</code>方法。其他两种分别是<code>Tests</code>和<code>Shell</code>方法，使用方法请参考CryptDB的说明文档。</p>
<h3 id="1-启用Proxy"><a href="#1-启用Proxy" class="headerlink" title="1) 启用Proxy"></a>1) 启用Proxy</h3><p>MySQL使用本地<code>3306</code>端口，CryptDB使用本地<code>3307</code>端口，CryptDB把<code>3307</code>端口的数据处理后通过<code>3306</code>端口与MySQL交互。</p>
<p>打开Terminal（我们称其为<code>Terminal 1</code>），替换CryptDB路径，复制后按<code>Shift + Insert</code>粘贴到Terminal中并执行：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">/path/to/cryptdb/bins/proxy-bin/bin/mysql-proxy  \</span><br><span class="line">   --plugins=proxy --event-threads=4             \</span><br><span class="line">   --max-open-files=1024                         \</span><br><span class="line">   --proxy-lua-script=<span class="variable">$EDBDIR</span>/mysqlproxy/wrapper.lua \</span><br><span class="line">   --proxy-address=127.0.0.1:3307                \</span><br><span class="line">   --proxy-backend-addresses=localhost:3306</span><br></pre></td></tr></table></figure>

<p>如果执行成功，<code>Terminal 1</code>中会显示：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2015-10-22 23:26:30: (critical) plugin proxy 0.8.4 started</span><br></pre></td></tr></table></figure>

<h3 id="2-连接到CryptDB"><a href="#2-连接到CryptDB" class="headerlink" title="2) 连接到CryptDB"></a>2) 连接到CryptDB</h3><p>接下来另外打开一个Terminal（我们称其为<code>Terminal 2</code>）连接到本机<code>3307</code>端口的CryptDB。如果想直连MySQL，使用默认的<code>mysql -u root -p</code>即可。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -pletmein -h 127.0.0.1 -P 3307</span><br><span class="line"><span class="comment"># 或者隐藏密码登录</span></span><br><span class="line">mysql -u root -p -h 127.0.0.1 -P 3307</span><br><span class="line">Enter password:</span><br></pre></td></tr></table></figure>

<p>默认用户名密码：<code>root</code>/<code>letmein</code>，如果登陆出现问题，请确认<code>MySQL</code> <code>root</code>用户的密码与<code>CryptDB</code>的密码相同。</p>
<h3 id="3-CryptDB使用演示"><a href="#3-CryptDB使用演示" class="headerlink" title="3) CryptDB使用演示"></a>3) CryptDB使用演示</h3><p>现在，Ubuntu中已经有两个Terminal了，一个启用3307端口代理的<code>Terminal 1</code>，另一个是与CryptDB建立连接的<code>Terminal 2</code>。以下在<code>Terminal 2</code>中查询、创建数据库表、增加记录、查询记录，可以看到<code>Terminal 1</code>中会有CryptDB对应的操作。</p>
<p>Terminal 2，查询数据库：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show databases;</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| Database           |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| information_schema |</span><br><span class="line">| cryptdb_udf        |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| remote_db          |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">5 rows in <span class="keyword">set</span> (<span class="number">0.02</span> sec):</span><br></pre></td></tr></table></figure>

<p>Terminal 1，CryptDB查询数据库结果：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">QUERY: <span class="keyword">show</span> <span class="keyword">databases</span>	</span><br><span class="line"><span class="keyword">NEW</span> <span class="keyword">QUERY</span>: <span class="keyword">show</span> <span class="keyword">databases</span></span><br></pre></td></tr></table></figure>

<p>Terminal 2，创建数据库：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; create database test;</span><br><span class="line">Query OK, 1 row affected (0.05 sec)</span><br></pre></td></tr></table></figure>

<p>Terminal 1，CryptDB创建数据库结果：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">QUERY: <span class="keyword">create</span> <span class="keyword">database</span> <span class="keyword">test</span>	</span><br><span class="line"><span class="keyword">NEW</span> <span class="keyword">QUERY</span>: <span class="keyword">create</span> <span class="keyword">database</span> <span class="string">`test`</span></span><br><span class="line">ENCRYPTED RESULTS:</span><br><span class="line">+</span><br><span class="line">|</span><br><span class="line">+</span><br><span class="line">+</span><br></pre></td></tr></table></figure>

<p>Terminal 2，打开刚创建的数据库：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; use test;</span><br><span class="line">Database changed</span><br></pre></td></tr></table></figure>

<p>Terminal 1，CryptDB打开数据库结果：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">QUERY: <span class="keyword">show</span> <span class="keyword">tables</span>	</span><br><span class="line"><span class="keyword">NEW</span> <span class="keyword">QUERY</span>: <span class="keyword">show</span> <span class="keyword">tables</span></span><br><span class="line">ENCRYPTED RESULTS:</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">|Tables_in_test      |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">+<span class="comment">--------------------+</span></span><br></pre></td></tr></table></figure>

<p>Terminal 2，新建数据库表：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; create table users(id int(2) not null primary key auto_increment,username varchar(40),password varchar(40));</span><br><span class="line">Query OK, 0 rows affected (0.08 sec)</span><br></pre></td></tr></table></figure>

<p>Terminal 1，CryptDB新建数据库表结果：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">QUERY: <span class="keyword">create</span> <span class="keyword">table</span> <span class="keyword">users</span>(<span class="keyword">id</span> <span class="built_in">int</span>(<span class="number">2</span>) <span class="keyword">not</span> <span class="literal">null</span> primary <span class="keyword">key</span> auto_increment,username <span class="built_in">varchar</span>(<span class="number">40</span>),<span class="keyword">password</span> <span class="built_in">varchar</span>(<span class="number">40</span>))	</span><br><span class="line"><span class="keyword">NEW</span> <span class="keyword">QUERY</span>: <span class="keyword">create</span> <span class="keyword">table</span> table_XOJUPFKJFH (MZJAQVYXMSoPLAIN <span class="built_in">INT</span>(<span class="number">2</span>) <span class="keyword">unsigned</span> <span class="keyword">not</span> <span class="literal">null</span> auto_increment, ZJPTNSDEPOoEq VARBINARY(<span class="number">80</span>), UBPDDGBBFPoOrder <span class="built_in">BIGINT</span> <span class="keyword">unsigned</span>, cdb_saltOLGYFXFRJM <span class="built_in">BIGINT</span>(<span class="number">8</span>) <span class="keyword">unsigned</span>, NCWFXJZAQOoEq VARBINARY(<span class="number">80</span>), QKRGQVOTWToOrder <span class="built_in">BIGINT</span> <span class="keyword">unsigned</span>, cdb_saltUWACWHCBBL <span class="built_in">BIGINT</span>(<span class="number">8</span>) <span class="keyword">unsigned</span>, PRIMARY <span class="keyword">KEY</span> index_16383471738825684568 (MZJAQVYXMSoPLAIN)) AUTO_INCREMENT=<span class="number">0</span> <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span></span><br><span class="line">ENCRYPTED RESULTS:</span><br><span class="line">+</span><br><span class="line">|</span><br><span class="line">+</span><br><span class="line">+</span><br></pre></td></tr></table></figure>

<p>Terminal 2：表中增加记录：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; insert into users(username,password) values("foo","123456");</span><br><span class="line">Query OK, 1 row affected (0.05 sec)</span><br></pre></td></tr></table></figure>

<p>Terminal 1，CryptDB增加记录结果：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">QUERY: <span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">users</span>(username,<span class="keyword">password</span>) <span class="keyword">values</span>(<span class="string">"foo"</span>,<span class="string">"123456"</span>)	</span><br><span class="line"><span class="keyword">NEW</span> <span class="keyword">QUERY</span>: <span class="keyword">insert</span> <span class="keyword">into</span> <span class="string">`test`</span>.<span class="string">`table_XOJUPFKJFH`</span> (<span class="string">`test`</span>.<span class="string">`table_XOJUPFKJFH`</span>.<span class="string">`ZJPTNSDEPOoEq`</span>, <span class="string">`test`</span>.<span class="string">`table_XOJUPFKJFH`</span>.<span class="string">`UBPDDGBBFPoOrder`</span>, <span class="string">`test`</span>.<span class="string">`table_XOJUPFKJFH`</span>.<span class="string">`cdb_saltOLGYFXFRJM`</span>, <span class="string">`test`</span>.<span class="string">`table_XOJUPFKJFH`</span>.<span class="string">`NCWFXJZAQOoEq`</span>, <span class="string">`test`</span>.<span class="string">`table_XOJUPFKJFH`</span>.<span class="string">`QKRGQVOTWToOrder`</span>, <span class="string">`test`</span>.<span class="string">`table_XOJUPFKJFH`</span>.<span class="string">`cdb_saltUWACWHCBBL`</span>, <span class="string">`test`</span>.<span class="string">`table_XOJUPFKJFH`</span>.<span class="string">`MZJAQVYXMSoPLAIN`</span>) <span class="keyword">values</span> (<span class="string">'?\Z??-;??|?m???]??\\pV??O?GP$?u???t???????????T??p'</span>, <span class="number">6053682719380228167</span>, <span class="number">11367024404434184659</span>, <span class="string">'?T?? r?????\nc??O$??R\n??bU?????o?*)FD??\n|?*?9????'</span>, <span class="number">2215019363748817985</span>, <span class="number">12229882942316980603</span>, <span class="string">'\'</span><span class="number">0</span>\<span class="string">''</span>)</span><br><span class="line">ENCRYPTED RESULTS:</span><br><span class="line">+</span><br><span class="line">|</span><br><span class="line">+</span><br><span class="line">+</span><br></pre></td></tr></table></figure>

<p>Terminal 2，查询表中的记录：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from users;</span><br><span class="line">+<span class="comment">------+----------+----------+</span></span><br><span class="line">| id   | username | password |</span><br><span class="line">+<span class="comment">------+----------+----------+</span></span><br><span class="line">| 1    | foo      | 123456   |</span><br><span class="line">+<span class="comment">------+----------+----------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.02</span> sec)</span><br></pre></td></tr></table></figure>

<p>Terminal 1，CryptDB查询记录结果：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">QUERY: <span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">users</span>	</span><br><span class="line"><span class="keyword">NEW</span> <span class="keyword">QUERY</span>: <span class="keyword">select</span> <span class="string">`test`</span>.<span class="string">`table_XOJUPFKJFH`</span>.<span class="string">`MZJAQVYXMSoPLAIN`</span>,<span class="string">`test`</span>.<span class="string">`table_XOJUPFKJFH`</span>.<span class="string">`ZJPTNSDEPOoEq`</span>,<span class="string">`test`</span>.<span class="string">`table_XOJUPFKJFH`</span>.<span class="string">`cdb_saltOLGYFXFRJM`</span>,<span class="string">`test`</span>.<span class="string">`table_XOJUPFKJFH`</span>.<span class="string">`NCWFXJZAQOoEq`</span>,<span class="string">`test`</span>.<span class="string">`table_XOJUPFKJFH`</span>.<span class="string">`cdb_saltUWACWHCBBL`</span> <span class="keyword">from</span> <span class="string">`test`</span>.<span class="string">`table_XOJUPFKJFH`</span></span><br><span class="line">ENCRYPTED RESULTS:</span><br><span class="line">+<span class="comment">--------------------+--------------------+--------------------+--------------------+--------------------+</span></span><br><span class="line">|MZJAQVYXMSoPLAIN    |ZJPTNSDEPOoEq       |cdb_saltOLGYFXFRJM  |NCWFXJZAQOoEq       |cdb_saltUWACWHCBBL  |</span><br><span class="line">+<span class="comment">--------------------+--------------------+--------------------+--------------------+--------------------+</span></span><br><span class="line">|1                   |????-;??|?m???]??\pV??O?GP$?u???t???????????T??p|11367024404434184659|?T?? r??????c??O$??R???bU?????o?*)FD???|?*?9????|12229882942316980603|</span><br><span class="line">+<span class="comment">--------------------+--------------------+--------------------+--------------------+--------------------+</span></span><br></pre></td></tr></table></figure>

<p>从CryptDB对应的结果可以看出，不仅数据库中的记录是加密的，表中的字段也是加密的。另外，直连到<code>3306</code>端口的MySQL，也能看到test数据库和表中的内容是加密的。</p>
<h2 id="四、修改CryptDB密码"><a href="#四、修改CryptDB密码" class="headerlink" title="四、修改CryptDB密码"></a>四、修改CryptDB密码</h2><p>根据不同运行CryptDB的方式，密码保存的文件有所不同，上一节中使用代理的方式开启CryptDB服务，这种方式的密码保存在<code>cryptdb\mysqlproxy\wrapper.lua</code>中。修改该文件，把默认的<code>letmein</code>替换为自己的密码。</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">os</span>.<span class="built_in">getenv</span>(<span class="string">"CRYPTDB_PASS"</span>) <span class="keyword">or</span> <span class="string">"letmein"</span> # 替换letmein</span><br></pre></td></tr></table></figure>

<blockquote>
<p>PS：关于另外两种方式的说明<br>使用<code>Tests</code>方式运行CryptDB，修改：<code>test/test_utils.hh</code><br>使用<code>Shell</code>方式运行CryptDB，修改：<code>main/cdb_test.cc</code></p>
</blockquote>
<p>修改完CryptDB的密码，别忘了修改MySQL的密码，这两者的密码要相同：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ mysqladmin -u root -p password <span class="comment"># 修改MySQL的密码</span></span><br><span class="line">Enter password:                  <span class="comment"># 输入当前密码</span></span><br><span class="line">New password:                    <span class="comment"># 输入新密码</span></span><br><span class="line">Confirm new password:            <span class="comment"># 再次输入新密码</span></span><br></pre></td></tr></table></figure>

<h2 id="五、重新编译CryptDB"><a href="#五、重新编译CryptDB" class="headerlink" title="五、重新编译CryptDB"></a>五、重新编译CryptDB</h2><p>如果修改了源码，在cryptdb目录中执行<code>make</code>就可以重新编译CryptDB。如果修改了UDFs，还需要以root权限执行<code>make install</code>。</p>
<h2 id="六、可能出现的问题"><a href="#六、可能出现的问题" class="headerlink" title="六、可能出现的问题"></a>六、可能出现的问题</h2><h3 id="1-安装时出错"><a href="#1-安装时出错" class="headerlink" title="1) 安装时出错"></a>1) 安装时出错</h3><p><strong>错误描述：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">/home/yourname/cryptdb/mysql-src/sql/sql_yacc.yy:30:23: error: ‘yythd’ was not declared <span class="keyword">in</span> this scope</span><br><span class="line"><span class="comment">#define YYTHD ((THD *)yythd)</span></span><br><span class="line">^</span><br><span class="line">/home/yourname/cryptdb/mysql-src/sql/sql_yacc.yy:37:14: note: <span class="keyword">in</span> expansion of macro ‘YYTHD’</span><br><span class="line"><span class="comment">#define Lex (YYTHD-&gt;lex)</span></span><br><span class="line">^</span><br><span class="line">/home/yourname/cryptdb/mysql-src/sql/sql_yacc.yy:14618:23: note: <span class="keyword">in</span> expansion of macro ‘Lex’</span><br><span class="line">LEX *lex= Lex;</span><br><span class="line">^</span><br><span class="line">make[2]: *** [sql/CMakeFiles/sql.dir/sql_yacc.cc.o] Error 1</span><br><span class="line">make[1]: *** [sql/CMakeFiles/sql.dir/all] Error 2</span><br><span class="line">make: *** [all] Error 2</span><br><span class="line">./scripts/install.rb:176:<span class="keyword">in</span> `pretty_execute<span class="string">': `make` failed (RuntimeError)</span></span><br><span class="line"><span class="string">	from ./scripts/install.rb:169:in `&gt;'</span></span><br><span class="line">	from ./scripts/install.rb:135:<span class="keyword">in</span> `fn<span class="string">'</span></span><br><span class="line"><span class="string">	from ./scripts/install.rb:281:in `&lt;main&gt;'</span></span><br></pre></td></tr></table></figure>

<p><strong>原因：</strong></p>
<p>对于出现的<code>yythd</code>错误，是因为安装CrpytDB时把<code>bison</code>自动更新到了最新版（bison 3 导致上述问题），需要去掉CryptDB安装脚本<code>install.rb</code>中的<code>bison</code>自动更新，手动安装<code>bison 2</code>。</p>
<p><strong>解决步骤：</strong></p>
<p><strong>(1) 去掉<code>script/install.rb</code>中的<code>bison</code>：</strong></p>
<p>打开<code>install.rb</code>，查找<code>bison</code>，可以看到<code>bison</code>位于<code>apt-get</code>中，说明安装时会自动更新<code>bison</code>。删除该位置的<code>bison</code>，保存<code>install.rb</code>。</p>
<p><strong>(2) 手动安装<code>bison 2</code>：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">wget http://launchpadlibrarian.net/140087283/libbison-dev_2.7.1.dfsg-1_amd64.deb</span><br><span class="line">wget http://launchpadlibrarian.net/140087282/bison_2.7.1.dfsg-1_amd64.deb</span><br><span class="line">dpkg -i libbison-dev_2.7.1.dfsg-1_amd64.deb</span><br><span class="line">dpkg -i bison_2.7.1.dfsg-1_amd64.deb</span><br></pre></td></tr></table></figure>

<h3 id="2-删除数据库出错"><a href="#2-删除数据库出错" class="headerlink" title="2) 删除数据库出错"></a>2) 删除数据库出错</h3><p><strong>错误描述：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">QUERY: select @@version_comment <span class="built_in">limit</span> 1	</span><br><span class="line">main/Connect.cc:112 (execute): mysql_query: Unknown database <span class="string">'yourdroppedDB'</span></span><br><span class="line">main/Connect.cc:113 (execute): on query: USE `yourdroppedDB `</span><br><span class="line">mysql-proxy: main/rewrite_main.cc:126: std::map&lt;std::basic_string&lt;char&gt;, int&gt; collectTableNames(const string&amp;, const std::unique_ptr&lt;Connect&gt;&amp;): Assertion `c-&gt;execute(<span class="string">"USE "</span> + quoteText(db_name))<span class="string">' failed.</span></span><br><span class="line"><span class="string">Aborted (core dumped)</span></span><br></pre></td></tr></table></figure>

<p><strong>原因：</strong><br>如果使用<code>3306</code>端口的MySQL而不是通过CryptDB删除加密数据库，会导致CryptDB仍然查询已经被删除的数据库而出现上述问题。</p>
<p><strong>解决办法：</strong><br>删除<code>cryptdb\shadow</code>目录下的所有文件。</p>
<h2 id="七、参考"><a href="#七、参考" class="headerlink" title="七、参考"></a>七、参考</h2><p><a href="https://css.csail.mit.edu/cryptdb/" target="_blank" rel="noopener">https://css.csail.mit.edu/cryptdb/</a><br>CryptDB源码中<code>doc/README</code>文档<br><a href="http://whitehatty.com/2012/09/30/cryptdb-howto-compile-on-ubuntu-linux-12-04/" target="_blank" rel="noopener">http://whitehatty.com/2012/09/30/cryptdb-howto-compile-on-ubuntu-linux-12-04/</a></p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>


    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/CryptDB/" rel="tag"># CryptDB</a>
          
            <a href="/tags/MySQL/" rel="tag"># MySQL</a>
          
            <a href="/tags/Ubuntu/" rel="tag"># Ubuntu</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2015/10/17/Python-urllib/" rel="next" title="Python3 urllib 获取重定向链接并下载文件">
                <i class="fa fa-chevron-left"></i> Python3 urllib 获取重定向链接并下载文件
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2015/10/30/How-to-Serve-Flask-Applications-with-uWSGI-and-Nginx-on-Ubuntu-14-04/" rel="prev" title="[译]如何在Ubuntu 14.04中为Flask应用部署Nginx和uWSGI服务">
                [译]如何在Ubuntu 14.04中为Flask应用部署Nginx和uWSGI服务 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image" src="/avatar.png" alt="Yaming Gong">
          <p class="site-author-name" itemprop="name">Yaming Gong</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">63</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">2</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">102</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/gymgle" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/gymgle" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/773662567" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.flickr.com/photos/gymgle/" target="_blank" title="Flickr">
                  
                    <i class="fa fa-fw fa-flickr"></i>
                  
                  Flickr
                </a>
              </span>
            
          
        </div>

        
        
          <div class="cc-license motion-element" itemprop="license">
            <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" target="_blank">
              <img src="/images/cc-by-nc-sa.svg" alt="Creative Commons">
            </a>
          </div>
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#一、CryptDB介绍"><span class="nav-number">1.</span> <span class="nav-text">一、CryptDB介绍</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#二、安装CryptDB"><span class="nav-number">2.</span> <span class="nav-text">二、安装CryptDB</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-安装Git和ruby"><span class="nav-number">2.1.</span> <span class="nav-text">1) 安装Git和ruby</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-克隆CrpytDB代码"><span class="nav-number">2.2.</span> <span class="nav-text">2) 克隆CrpytDB代码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-安装CrpytDB"><span class="nav-number">2.3.</span> <span class="nav-text">3) 安装CrpytDB</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-添加环境变量EDBDIR到-bashrc"><span class="nav-number">2.4.</span> <span class="nav-text">4) 添加环境变量EDBDIR到.bashrc</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#三、CryptDB的使用"><span class="nav-number">3.</span> <span class="nav-text">三、CryptDB的使用</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-启用Proxy"><span class="nav-number">3.1.</span> <span class="nav-text">1) 启用Proxy</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-连接到CryptDB"><span class="nav-number">3.2.</span> <span class="nav-text">2) 连接到CryptDB</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-CryptDB使用演示"><span class="nav-number">3.3.</span> <span class="nav-text">3) CryptDB使用演示</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#四、修改CryptDB密码"><span class="nav-number">4.</span> <span class="nav-text">四、修改CryptDB密码</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#五、重新编译CryptDB"><span class="nav-number">5.</span> <span class="nav-text">五、重新编译CryptDB</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#六、可能出现的问题"><span class="nav-number">6.</span> <span class="nav-text">六、可能出现的问题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-安装时出错"><span class="nav-number">6.1.</span> <span class="nav-text">1) 安装时出错</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-删除数据库出错"><span class="nav-number">6.2.</span> <span class="nav-text">2) 删除数据库出错</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#七、参考"><span class="nav-number">7.</span> <span class="nav-text">七、参考</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy;  2012 - 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Yaming Gong</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  

    <script type="text/javascript">
      var disqus_shortname = 'g2ex';
      var disqus_identifier = '2015/10/23/CryptDB-Notes/';

      var disqus_title = "CryptDB的安装与使用";


      function run_disqus_script(disqus_script) {
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }

      run_disqus_script('count.js');

      
        var disqus_config = function () {
            this.page.url = disqus_url;
            this.page.identifier = disqus_identifier;
            this.page.title = disqus_title;
        };
        run_disqus_script('embed.js');
      

    </script>
  





  
  

  

  

  

  


</body>
</html>
